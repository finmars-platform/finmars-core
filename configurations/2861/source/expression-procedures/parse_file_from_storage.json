{
    "id": 2,
    "name": "parse_file_from_storage",
    "user_code": "parse_file_from_storage",
    "notes": null,
    "data": null,
    "context_variables": [],
    "code": "workflow_id = create_workflow()\n\ndef run_step_1():\n    \n    filenames = get_filenames_from_storage('\\.csv$', path_to_folder='/import')\n    for filename in filenames:\n        run_data_import(filepath='/import/' + filename, scheme=\"Prices_Exante\")\n\ndef run_step_2():\n    \n    #file = get_file(pattern=\"prices.csv\")\n    \n    print_message(\"import_prices\")\n    return 2\n    #run_simple_import()\n\ndef run_step_3():\n    \n    delete_file_from_storage('/import/test.csv')\n    \n    print_message(\"import_transactions\")\n    return 3\n    #run_simple_import()\n\nregister_workflow_step(workflow_id, run_step_1)\nregister_workflow_step(workflow_id, run_step_2)\nregister_workflow_step(workflow_id, run_step_3)\n\nrun_workflow(workflow_id)",
    "configuration_code": "com.finmars.local"
}