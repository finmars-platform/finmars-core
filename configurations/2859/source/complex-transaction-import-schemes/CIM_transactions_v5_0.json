{
    "id": 10,
    "user_code": "CIM_transactions_v5_0",
    "name": "Transactions (CIM)",
    "short_name": "Transactions (CIM)",
    "public_name": null,
    "notes": null,
    "rule_expr": "type",
    "spreadsheet_start_cell": "A1",
    "spreadsheet_active_tab_name": "",
    "book_uniqueness_settings": 1,
    "expression_iterations_count": 1,
    "inputs": [
        {
            "id": 791,
            "name": "temp_ttype",
            "column": 1,
            "name_expr": "if_null(temp_ttype, \"-\")",
            "column_name": "oricdapps"
        },
        {
            "id": 792,
            "name": "temp_portfolio",
            "column": 2,
            "name_expr": "if_null(temp_portfolio, \"-\")",
            "column_name": "account"
        },
        {
            "id": 793,
            "name": "temp_iban",
            "column": 3,
            "name_expr": "if_null(temp_iban, \"-\")",
            "column_name": "iban"
        },
        {
            "id": 794,
            "name": "temp_isin",
            "column": 4,
            "name_expr": "if_null(temp_isin, \"-\")",
            "column_name": "isin__isin_code"
        },
        {
            "id": 795,
            "name": "temp_fx_trade_currency_buy",
            "column": 32,
            "name_expr": "if_null(temp_fx_trade_currency_buy,'-')",
            "column_name": "devcptbenefs__account_currency_of_the_beneficiary"
        },
        {
            "id": 796,
            "name": "temp_fx_trade_amount_buy",
            "column": 33,
            "name_expr": "if_null(temp_fx_trade_amount_buy,0)",
            "column_name": "buy_mtd__accounting_movement_amount"
        },
        {
            "id": 797,
            "name": "temp_fx_trade_account_buy",
            "column": 34,
            "name_expr": "if_null(temp_fx_trade_account_buy,'-')",
            "column_name": "buy_iban"
        }
    ],
    "calculated_inputs": [
        {
            "id": 1337,
            "name": "twetwaet",
            "column": 1,
            "name_expr": "temp_iban"
        },
        {
            "id": 1338,
            "name": "wetaw",
            "column": 2,
            "name_expr": "if temp_ttype==\"TRC\" and temp_fx_trade_account_buy!='-':\n temp_fx_trade_account_buy\nelse:\n temp_iban"
        },
        {
            "id": 1339,
            "name": "tawet",
            "column": 3,
            "name_expr": "temp_iban"
        },
        {
            "id": 1340,
            "name": "account_position",
            "column": 4,
            "name_expr": "temp_iban"
        },
        {
            "id": 1341,
            "name": "account_sell",
            "column": 5,
            "name_expr": "temp_iban"
        },
        {
            "id": 1342,
            "name": "accrued_price",
            "column": 6,
            "name_expr": "0"
        },
        {
            "id": 1343,
            "name": "accrued_wsign",
            "column": 7,
            "name_expr": "float(temp_accrued)"
        },
        {
            "id": 1344,
            "name": "type",
            "column": 47,
            "name_expr": "if temp_ttype==\"TRC\" and temp_fx_trade_account_buy!='-':\n \"TRC FX\"\nelif temp_ttype==\"TRC\" and temp_fx_trade_account_buy=='-':\n \"TRC\"\nelse:\n temp_ttype"
        },
        {
            "id": 1345,
            "name": "allocation_pl",
            "column": 8,
            "name_expr": "'-'"
        },
        {
            "id": 1346,
            "name": "amount",
            "column": 9,
            "name_expr": "if temp_settlement_currency=='-':\n abs(float(temp_cash_consideration))\nelse:\n float(temp_total)"
        },
        {
            "id": 1347,
            "name": "amount_buy",
            "column": 10,
            "name_expr": "if temp_ttype==\"TRC\" and temp_fx_trade_amount_buy!=0:\n float(temp_fx_trade_amount_buy)\nelse:\n float(temp_total)"
        },
        {
            "id": 1348,
            "name": "amount_sell",
            "column": 11,
            "name_expr": "if temp_ttype==\"TRC\" and temp_fx_trade_amount_buy!='-':\n float(abs(temp_cash_consideration))\nelse:\n float(temp_amount_sell)"
        },
        {
            "id": 1349,
            "name": "broker_fee",
            "column": 12,
            "name_expr": "float(temp_broker_fee)"
        },
        {
            "id": 1350,
            "name": "cash_consideration",
            "column": 13,
            "name_expr": "abs(float(temp_cash_consideration))"
        },
        {
            "id": 1351,
            "name": "charges",
            "column": 14,
            "name_expr": "(float(temp_broker_fee)+float(temp_fee)+float(temp_commission)+float(temp_tax)+float(temp_stamp_duty)+float(temp_other_commission))"
        },
        {
            "id": 1352,
            "name": "charges_percent",
            "column": 15,
            "name_expr": "try:\n (float(temp_broker_fee)+float(temp_fee)+float(temp_commission)+float(temp_tax)+float(temp_stamp_duty)+float(temp_other_commission))/float(temp_total)*100\nexcept Exception:\n 0"
        },
        {
            "id": 1353,
            "name": "commission",
            "column": 16,
            "name_expr": "float(temp_commission)"
        },
        {
            "id": 1354,
            "name": "counterparty",
            "column": 17,
            "name_expr": "'-'"
        },
        {
            "id": 1355,
            "name": "currency_buy",
            "column": 18,
            "name_expr": "if temp_ttype==\"TRC\" and temp_fx_trade_currency_buy!='-':\n temp_fx_trade_currency_buy\nelse:\n temp_currency_buy"
        },
        {
            "id": 1356,
            "name": "currency_sell",
            "column": 19,
            "name_expr": "if temp_ttype==\"TRC\":\n temp_settlement_currency\nelse:\n temp_currency_sell"
        },
        {
            "id": 1357,
            "name": "fees_taxes",
            "column": 20,
            "name_expr": "float(temp_fee)"
        },
        {
            "id": 1358,
            "name": "front_office_notes",
            "column": 21,
            "name_expr": "'-'"
        },
        {
            "id": 1359,
            "name": "fx_rate",
            "column": 22,
            "name_expr": "if temp_ttype==\"TRC\" and temp_fx_trade_amount_buy!=0:\n float(temp_fx_trade_amount_buy)/float(abs(temp_cash_consideration))\nelif temp_ttype==\"TRC\" and temp_fx_trade_amount_buy==0:\n  float(temp_total)/float(abs(temp_cash_consideration))\nelse:\n float(temp_fx_rate)"
        },
        {
            "id": 1360,
            "name": "fx_rate_reverse",
            "column": 23,
            "name_expr": "try:\n if temp_ttype==\"TRC\" and temp_fx_trade_amount_buy!='-':\n  float(abs(temp_cash_consideration))/float(temp_fx_trade_amount_buy)\n elif float(temp_fx_rate)!=0:\n  1/float(temp_fx_rate)\n else:\n  1\nexcept Exception:\n 1"
        },
        {
            "id": 1361,
            "name": "instrument",
            "column": 24,
            "name_expr": "temp_isin"
        },
        {
            "id": 1362,
            "name": "linked_instrument",
            "column": 25,
            "name_expr": "'-'"
        },
        {
            "id": 1363,
            "name": "middle_office_notes",
            "column": 26,
            "name_expr": "'-'"
        },
        {
            "id": 1364,
            "name": "other_commissions",
            "column": 27,
            "name_expr": "float(temp_other_commission)"
        },
        {
            "id": 1365,
            "name": "portfolio",
            "column": 28,
            "name_expr": "temp_portfolio"
        },
        {
            "id": 1366,
            "name": "position",
            "column": 29,
            "name_expr": "float(temp_position)"
        },
        {
            "id": 1367,
            "name": "principal_price",
            "column": 30,
            "name_expr": "float(temp_price)"
        },
        {
            "id": 1368,
            "name": "principal_wsign",
            "column": 31,
            "name_expr": "float(temp_principal)"
        },
        {
            "id": 1369,
            "name": "proceeds",
            "column": 32,
            "name_expr": "float(temp_total)"
        },
        {
            "id": 1370,
            "name": "responsible",
            "column": 33,
            "name_expr": "'-'"
        },
        {
            "id": 1371,
            "name": "reverse",
            "column": 34,
            "name_expr": "'-'"
        },
        {
            "id": 1372,
            "name": "selector_cashflow",
            "column": 35,
            "name_expr": "iff(temp_cash_consideration<0,'Withdraw','Deposit')"
        },
        {
            "id": 1373,
            "name": "selector_fx_types",
            "column": 36,
            "name_expr": "'Conversion'"
        },
        {
            "id": 1374,
            "name": "selector_purpose",
            "column": 37,
            "name_expr": "if temp_ttype==\"COU\":\n 'Coupon'\nelif temp_ttype==\"DGA\":\n 'Custody fee'\nelif temp_ttype==\"FRA\":\n 'Admin fee'\nelif temp_ttype==\"INT\":\n 'Interest expense'"
        },
        {
            "id": 1375,
            "name": "selector_trade_type",
            "column": 38,
            "name_expr": "iff(float(temp_cash_consideration)<0, \"Buy\", \"Sell\")"
        },
        {
            "id": 1376,
            "name": "settlement_currency",
            "column": 39,
            "name_expr": "if temp_settlement_currency!='-':\n temp_settlement_currency\nelse:\n temp_currency"
        },
        {
            "id": 1377,
            "name": "source",
            "column": 40,
            "name_expr": "'CIM Import (Transactions)'"
        },
        {
            "id": 1378,
            "name": "stamp_duty",
            "column": 41,
            "name_expr": "float(temp_stamp_duty)"
        },
        {
            "id": 1379,
            "name": "strategy1",
            "column": 42,
            "name_expr": "'-'"
        },
        {
            "id": 1380,
            "name": "trade_date",
            "column": 43,
            "name_expr": "temp_trade_date"
        },
        {
            "id": 1381,
            "name": "transaction_code",
            "column": 44,
            "name_expr": "temp_transaction_code"
        },
        {
            "id": 1382,
            "name": "transaction_currency",
            "column": 45,
            "name_expr": "temp_currency"
        },
        {
            "id": 1383,
            "name": "value_date",
            "column": 46,
            "name_expr": "temp_value_date"
        }
    ],
    "rule_scenarios": [
        {
            "id": 317,
            "is_default_rule_scenario": true,
            "is_error_rule_scenario": false,
            "name": "-",
            "selector_values": [],
            "transaction_type": 1,
            "fields": [],
            "status": "active",
            "transaction_type_object": {
                "id": 1,
                "name": "-",
                "user_code": "-",
                "inputs": []
            }
        }
    ],
    "selector_values": [
        {
            "id": 507,
            "value": "TRC FX",
            "notes": "FX Trade",
            "order": 9
        },
        {
            "id": 508,
            "value": "DGA",
            "notes": "Custody Fees",
            "order": 1
        },
        {
            "id": 509,
            "value": "Test",
            "notes": "Test",
            "order": 0
        },
        {
            "id": 510,
            "value": "COU",
            "notes": "Coupons and dividends",
            "order": 6
        },
        {
            "id": 511,
            "value": "OST",
            "notes": "Corporate action",
            "order": 7
        },
        {
            "id": 512,
            "value": "TRC",
            "notes": "Deposit/Withdraw",
            "order": 4
        },
        {
            "id": 513,
            "value": "INT",
            "notes": "Interest expense",
            "order": 8
        },
        {
            "id": 514,
            "value": "FRX",
            "notes": "Exchange currency",
            "order": 5
        },
        {
            "id": 515,
            "value": "STE",
            "notes": "Instrument transaction (buy/sell)",
            "order": 2
        },
        {
            "id": 516,
            "value": "FRA",
            "notes": "Administrative fees",
            "order": 3
        }
    ],
    "recon_scenarios": [],
    "recon_layout": null,
    "delimiter": ",",
    "error_handler": "continue",
    "missing_data_handler": "set_defaults",
    "column_matcher": "name",
    "filter_expression": null,
    "has_header_row": true,
    "data_preprocess_expression": "",
    "configuration_code": "com.finmars.local"
}