{
    "id": 29,
    "name": "Lombard (FX Prices) 1.0.0",
    "user_code": "LO_Prices_FX_1v1_0_0",
    "short_name": "Lombard (FX Prices) 1.0.0",
    "public_name": null,
    "notes": null,
    "filter_expr": "if temp_ttype == \"Currency forwards\":\n    True\nelse:\n    False",
    "content_type": "instruments.pricehistory",
    "csv_fields": [
        {
            "column": 1,
            "name": "temp_isin",
            "name_expr": "temp_isin",
            "column_name": "ccodeisin"
        },
        {
            "column": 2,
            "name": "temp_request_date",
            "name_expr": "if temp_request_date:\n    parse_date(temp_request_date[6:8]+'.'+temp_request_date[4:6]+'.'+temp_request_date[0:4],['%d.%m.%Y'])\nelse:\n    '-'",
            "column_name": "fcdatef"
        },
        {
            "column": 3,
            "name": "temp_price",
            "name_expr": "if not temp_price:\n    0\nelse:\n    temp_price=replace(temp_price,' ','')\n    float(if_null(temp_price,0))",
            "column_name": "fccours"
        },
        {
            "column": 4,
            "name": "temp_instrument",
            "name_expr": "if_null(temp_instrument, '-')",
            "column_name": "fclibelle"
        },
        {
            "column": 5,
            "name": "temp_ttype",
            "name_expr": "temp_ttype",
            "column_name": "crepschemagenlb"
        },
        {
            "column": 6,
            "name": "temp_maturity_date",
            "name_expr": "if temp_maturity_date:\n    parse_date(temp_maturity_date[6:8]+'.'+temp_maturity_date[4:6]+'.'+temp_maturity_date[0:4],['%d.%m.%Y'])\nelse:\n    '-'",
            "column_name": "fcdateexpiration"
        },
        {
            "column": 7,
            "name": "temp_currency_buy",
            "name_expr": "if_null(temp_currency_buy,'-')",
            "column_name": "fcreceivablecurrency"
        },
        {
            "column": 8,
            "name": "temp_currency_sell",
            "name_expr": "if_null(temp_currency_sell,'-')",
            "column_name": "fcpayablecurrency"
        },
        {
            "column": 9,
            "name": "temp_cost_price",
            "name_expr": "if not temp_cost_price:\n    0\nelse:\n    temp_cost_price=replace(temp_cost_price,' ','')\n    float(if_null(temp_cost_price,0))",
            "column_name": "fccdechangeregl"
        },
        {
            "column": 10,
            "name": "temp_description_instrument",
            "name_expr": "temp_description_instrument",
            "column_name": "vinstrlonamede"
        }
    ],
    "entity_fields": [
        {
            "id": 893,
            "name": "Instrument",
            "order": 0,
            "expression": "if \"EUROBUND\" in temp_instrument:\n    'LO_' + temp_isin\nelif temp_ttype==\"Currency forwards\":\n    forward_maturity_date=str(temp_maturity_date)[8:10]+'.'+str(temp_maturity_date)[5:7]+'.'+str(temp_maturity_date)[0:4]\n    forward_user_code='FX-Forward: '+ temp_currency_buy+'/'+temp_currency_sell+' '+str(forward_maturity_date)+' '+str(round(temp_cost_price,5))\n    forward_user_code\nelif 'CDS' in temp_description_instrument:\n    temp_description_instrument\nelse:\n    temp_isin",
            "system_property_key": "instrument",
            "attribute_user_code": null,
            "use_default": true
        },
        {
            "id": 894,
            "name": "Pricing policy",
            "order": 0,
            "expression": "'Lombard_Price_Policy'",
            "system_property_key": "pricing_policy",
            "attribute_user_code": null,
            "use_default": true
        },
        {
            "id": 895,
            "name": "Date",
            "order": 0,
            "expression": "temp_request_date",
            "system_property_key": "date",
            "attribute_user_code": null,
            "use_default": true
        },
        {
            "id": 896,
            "name": "Principal price",
            "order": 0,
            "expression": "1",
            "system_property_key": "principal_price",
            "attribute_user_code": null,
            "use_default": true
        },
        {
            "id": 897,
            "name": "Accrued price",
            "order": 0,
            "expression": "0",
            "system_property_key": "accrued_price",
            "attribute_user_code": null,
            "use_default": true
        }
    ],
    "calculated_inputs": [],
    "spreadsheet_start_cell": "A1",
    "spreadsheet_active_tab_name": "",
    "mode": "overwrite",
    "delimiter": ",",
    "error_handler": "continue",
    "missing_data_handler": "set_defaults",
    "classifier_handler": "skip",
    "column_matcher": "name",
    "instrument_reference_column": "",
    "item_post_process_script": "",
    "data_preprocess_expression": "",
    "configuration_code": "com.finmars.local"
}