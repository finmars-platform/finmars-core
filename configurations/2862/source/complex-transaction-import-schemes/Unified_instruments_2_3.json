{
    "id": 7,
    "user_code": "Unified_instruments_2_3",
    "name": "Unified_instruments_2_3",
    "short_name": "Unified_instruments_2_3",
    "public_name": null,
    "notes": null,
    "rule_expr": "type",
    "spreadsheet_start_cell": "A1",
    "spreadsheet_active_tab_name": "",
    "book_uniqueness_settings": 3,
    "expression_iterations_count": 1,
    "inputs": [
        {
            "id": 1167,
            "name": "temp_ttype",
            "column": 1,
            "name_expr": "if_null(temp_ttype, '-')",
            "column_name": "Type"
        },
        {
            "id": 1168,
            "name": "temp_instrument",
            "column": 4,
            "name_expr": "if_null(temp_instrument, \"-\")",
            "column_name": "Instrument"
        },
        {
            "id": 1169,
            "name": "temp_currency",
            "column": 7,
            "name_expr": "if_null(temp_currency, \"-\")",
            "column_name": "Currency"
        }
    ],
    "calculated_inputs": [
        {
            "id": 2271,
            "name": "currency",
            "column": 1,
            "name_expr": "temp_currency"
        },
        {
            "id": 2272,
            "name": "isin",
            "column": 2,
            "name_expr": "temp_instrument"
        },
        {
            "id": 2273,
            "name": "type",
            "column": 3,
            "name_expr": "if lower(temp_ttype) in ['instrument', 'cash', 'fx forward', 'fx conversion', 'transfer instrument', 'transfer cash']:\n    temp_ttype\nelif lower(temp_ttype) in ['buy','sell']:\n    'Buy/Sell'\nelif lower(temp_ttype) in ['deposit','withdraw']:\n    'Deposits/Withdraws'\nelif lower(temp_ttype) in ['commission','coupon','depository receipt fee','dividend','management fee','performance fee']:\n    'Expense/Income (Instrument)'\nelif lower(temp_ttype) in ['accounting and audit fee','admin fee', 'commission','custody fee','interest expense','other expense','other income','tax expense']:\n    'Expense/Income (Non-Instrument)'"
        }
    ],
    "rule_scenarios": [
        {
            "id": 527,
            "is_default_rule_scenario": false,
            "is_error_rule_scenario": false,
            "name": "Upload Instruments",
            "selector_values": [
                "Instrument",
                "Buy/Sell",
                "Transfer Instrument",
                "Expense/Income (Instrument)"
            ],
            "transaction_type": 15,
            "fields": [
                {
                    "id": 9309,
                    "transaction_type_input": 205,
                    "value_expr": "currency",
                    "transaction_type_input_object": {
                        "id": 205,
                        "name": "currency",
                        "verbose_name": "Currency",
                        "value_type": 100,
                        "content_type": "currencies.currency",
                        "order": 0
                    }
                },
                {
                    "id": 9310,
                    "transaction_type_input": 207,
                    "value_expr": "isin",
                    "transaction_type_input_object": {
                        "id": 207,
                        "name": "instrument_description",
                        "verbose_name": "Instrument Full Name",
                        "value_type": 10,
                        "content_type": null,
                        "order": 1
                    }
                },
                {
                    "id": 9311,
                    "transaction_type_input": 208,
                    "value_expr": "isin",
                    "transaction_type_input_object": {
                        "id": 208,
                        "name": "isin",
                        "verbose_name": "ISIN",
                        "value_type": 10,
                        "content_type": null,
                        "order": 2
                    }
                }
            ],
            "status": "active",
            "transaction_type_object": {
                "id": 15,
                "name": "Upload Instrument",
                "user_code": "Upload Instrument",
                "inputs": [
                    {
                        "id": 205,
                        "name": "currency",
                        "verbose_name": "Currency",
                        "value_type": 100
                    },
                    {
                        "id": 207,
                        "name": "instrument_description",
                        "verbose_name": "Instrument Full Name",
                        "value_type": 10
                    },
                    {
                        "id": 208,
                        "name": "isin",
                        "verbose_name": "ISIN",
                        "value_type": 10
                    }
                ]
            }
        },
        {
            "id": 528,
            "is_default_rule_scenario": true,
            "is_error_rule_scenario": false,
            "name": "-",
            "selector_values": [],
            "transaction_type": 1,
            "fields": [],
            "status": "active",
            "transaction_type_object": {
                "id": 1,
                "name": "-",
                "user_code": "-",
                "inputs": []
            }
        }
    ],
    "selector_values": [
        {
            "id": 759,
            "value": "Instrument",
            "notes": "Initial instrument",
            "order": 0
        },
        {
            "id": 760,
            "value": "Buy/Sell",
            "notes": "Buy/Sell",
            "order": 1
        },
        {
            "id": 761,
            "value": "Transfer Instrument",
            "notes": "Transfer Instrument",
            "order": 2
        },
        {
            "id": 762,
            "value": "Expense/Income (Instrument)",
            "notes": "Expense/Income (Instrument)",
            "order": 3
        }
    ],
    "recon_scenarios": [],
    "recon_layout": null,
    "delimiter": ",",
    "error_handler": "continue",
    "missing_data_handler": "set_defaults",
    "column_matcher": "index",
    "filter_expression": null,
    "has_header_row": true,
    "data_preprocess_expression": "",
    "configuration_code": "com.finmars.local"
}